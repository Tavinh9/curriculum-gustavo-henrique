<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currículo de Gustavo Henrique</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"> <!-- Referência ao CSS externo -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
</head>
<body>
    <div class="container" id="content-to-pdf">
        <header style="text-align: center;">
            <h1>Gustavo Henrique</h1>
            <h2>Gomes Evangelista</h2>
            <p>Rua Cinquenta, 500 - Bairro Tropical, Contagem - MG</p>
            <p>Telefone: (31) 98912-9978 | Email: gustavohenriquege9@gmail.com</p>
        </header>

        <section>
            <h3>Resumo</h3>
            <p>Estudante de Tecnologia da Informação com ótimas habilidades de comunicação e grande disposição para o desenvolvimento pessoal e profissional.<br>
               <strong>Idade:</strong> <span id="idade"></span> anos
            </p>
        </section>

        <section>
            <h3>Habilidades e Competências</h3>
            <ul>
                <li>Proatividade em solucionar problemas</li>
                <li>Comprometimento com as normas e regulamentos</li>
                <li>Conhecimentos básicos de informática</li>
                <li>Trabalho em equipe</li>
            </ul>
        </section>

        <section>
            <h3>Formação Acadêmica</h3>
            <p><strong>Instituição:</strong> Fundação de Ensino de Contagem - FUNEC</p>
            <p><strong>Curso:</strong> Técnico em Informática</p>
            <p><strong>Status:</strong> Cursando (Conclusão: Dezembro de 2024)</p>
        </section>
    </div>

    <div style="text-align: center; margin-top: 20px;">
        <button id="download-pdf" class="button">Baixar PDF</button>
    </div>

    <script>
        // Função para calcular a idade
        function calcularIdade(dataNascimento) {
            const hoje = new Date();
            const nascimento = new Date(dataNascimento);
            let idade = hoje.getFullYear() - nascimento.getFullYear();
            if (
                hoje.getMonth() < nascimento.getMonth() ||
                (hoje.getMonth() === nascimento.getMonth() && hoje.getDate() < nascimento.getDate())
            ) {
                idade--;
            }
            return idade;
        }
        document.getElementById('idade').textContent = calcularIdade('2006-08-01');

        // Gerar PDF ajustado
        document.getElementById('download-pdf').addEventListener('click', function () {
            const element = document.getElementById('content-to-pdf');
            const options = {
                filename: 'Curriculo_Gustavo_Henrique.pdf',
                margin: 10,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            html2pdf().set(options).from(element).toPdf().get('pdf').then(function (pdf) {
                const totalPages = pdf.internal.getNumberOfPages();
                for (let i = 1; i <= totalPages; i++) {
                    pdf.setPage(i);
                    pdf.setFontSize(10);
                }
            }).save();
        });
    </script>
</body>
</html>
